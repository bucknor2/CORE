<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 3 Analyses | Lab Notebook</title>
  <meta name="description" content="Section 3 Analyses | Lab Notebook" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 3 Analyses | Lab Notebook" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 3 Analyses | Lab Notebook" />
  
  
  

<meta name="author" content="Brianna Bucknor" />


<meta name="date" content="2020-10-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hrs-data-wrangling.html"/>
<link rel="next" href="graphs.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CORR</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Intro</a></li>
<li class="chapter" data-level="2" data-path="hrs-data-wrangling.html"><a href="hrs-data-wrangling.html"><i class="fa fa-check"></i><b>2</b> HRS Data Wrangling</a><ul>
<li class="chapter" data-level="2.1" data-path="hrs-data-wrangling.html"><a href="hrs-data-wrangling.html#attaching-data"><i class="fa fa-check"></i><b>2.1</b> Attaching Data</a></li>
<li class="chapter" data-level="2.2" data-path="hrs-data-wrangling.html"><a href="hrs-data-wrangling.html#organizing-restructuring"><i class="fa fa-check"></i><b>2.2</b> Organizing &amp; Restructuring</a></li>
<li class="chapter" data-level="2.3" data-path="hrs-data-wrangling.html"><a href="hrs-data-wrangling.html#filter-subset-and-organize"><i class="fa fa-check"></i><b>2.3</b> Filter, Subset, and Organize</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analyses.html"><a href="analyses.html"><i class="fa fa-check"></i><b>3</b> Analyses</a><ul>
<li class="chapter" data-level="3.1" data-path="analyses.html"><a href="analyses.html#constructing-resilience-measure"><i class="fa fa-check"></i><b>3.1</b> Constructing Resilience Measure</a></li>
<li class="chapter" data-level="3.2" data-path="analyses.html"><a href="analyses.html#regressions-brought-to-you-by-for-loops-lapply"><i class="fa fa-check"></i><b>3.2</b> Regressions: brought to you by for loops &amp; lapply!</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="graphs.html"><a href="graphs.html"><i class="fa fa-check"></i><b>4</b> Graphs</a></li>
<li class="chapter" data-level="5" data-path="prelim-prep.html"><a href="prelim-prep.html"><i class="fa fa-check"></i><b>5</b> Prelim Prep</a><ul>
<li class="chapter" data-level="5.1" data-path="prelim-prep.html"><a href="prelim-prep.html#task-list"><i class="fa fa-check"></i><b>5.1</b> Task List:</a></li>
<li class="chapter" data-level="5.2" data-path="prelim-prep.html"><a href="prelim-prep.html#measuring-resilience"><i class="fa fa-check"></i><b>5.2</b> Measuring Resilience</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="drafting.html"><a href="drafting.html"><i class="fa fa-check"></i><b>6</b> Drafting</a><ul>
<li class="chapter" data-level="" data-path="drafting.html"><a href="drafting.html#specific-aims"><i class="fa fa-check"></i>Specific Aims</a></li>
<li class="chapter" data-level="6.1" data-path="drafting.html"><a href="drafting.html#chapter-1-introduction"><i class="fa fa-check"></i><b>6.1</b> Chapter 1: Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="drafting.html"><a href="drafting.html#chapter-2-background-and-significance"><i class="fa fa-check"></i><b>6.2</b> Chapter 2: Background and Significance</a><ul>
<li class="chapter" data-level="6.2.1" data-path="drafting.html"><a href="drafting.html#defining-psychological-resilience"><i class="fa fa-check"></i><b>6.2.1</b> Defining Psychological Resilience</a></li>
<li class="chapter" data-level="6.2.2" data-path="drafting.html"><a href="drafting.html#current-understanding-of-the-genetics-of-resilience"><i class="fa fa-check"></i><b>6.2.2</b> Current understanding of the Genetics of Resilience</a></li>
<li class="chapter" data-level="6.2.3" data-path="drafting.html"><a href="drafting.html#gap-in-knowledgedearth-of-research"><i class="fa fa-check"></i><b>6.2.3</b> Gap in knowledge/Dearth of research</a></li>
<li class="chapter" data-level="6.2.4" data-path="drafting.html"><a href="drafting.html#proposal"><i class="fa fa-check"></i><b>6.2.4</b> Proposal</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="drafting.html"><a href="drafting.html#chapter-3-study-1---validation-of-resilience-measure"><i class="fa fa-check"></i><b>6.3</b> Chapter 3: Study 1 - Validation of Resilience Measure</a><ul>
<li class="chapter" data-level="6.3.1" data-path="drafting.html"><a href="drafting.html#challenges-to-resilience-measurment"><i class="fa fa-check"></i><b>6.3.1</b> Challenges to Resilience Measurment</a></li>
<li class="chapter" data-level="6.3.2" data-path="drafting.html"><a href="drafting.html#importance-of-measurement-validation"><i class="fa fa-check"></i><b>6.3.2</b> Importance of Measurement &amp; Validation</a></li>
<li class="chapter" data-level="6.3.3" data-path="drafting.html"><a href="drafting.html#approach-for-the-proposed-study"><i class="fa fa-check"></i><b>6.3.3</b> Approach for the proposed study</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="drafting.html"><a href="drafting.html#chapter-4-study-2---gwas-of-resilience"><i class="fa fa-check"></i><b>6.4</b> Chapter 4: Study 2 - GWAS of Resilience</a><ul>
<li class="chapter" data-level="6.4.1" data-path="drafting.html"><a href="drafting.html#rationale-for-a-gwas-of-resilience"><i class="fa fa-check"></i><b>6.4.1</b> Rationale for a GWAS of Resilience</a></li>
<li class="chapter" data-level="6.4.2" data-path="drafting.html"><a href="drafting.html#approach-for-proposed-study"><i class="fa fa-check"></i><b>6.4.2</b> Approach for proposed study</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="drafting.html"><a href="drafting.html#chapter-5-study-3---biological-functional-annotation"><i class="fa fa-check"></i><b>6.5</b> Chapter 5: Study 3 - Biological &amp; Functional Annotation</a></li>
<li class="chapter" data-level="6.6" data-path="drafting.html"><a href="drafting.html#chapter-6"><i class="fa fa-check"></i><b>6.6</b> Chapter 6: ????</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Lab Notebook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analyses" class="section level1">
<h1><span class="header-section-number">Section 3</span> Analyses</h1>
<p><img src="0008.gif" /><!-- --></p>
<div id="constructing-resilience-measure" class="section level2">
<h2><span class="header-section-number">3.1</span> Constructing Resilience Measure</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">HRSdataDir &lt;-<span class="st"> &quot;C:/Users/Bri/Documents/grad-repo/grad-repo/SRP/&quot;</span>
<span class="kw">load</span>(<span class="kw">paste0</span>(HRSdataDir, <span class="st">&quot;SRP_DATASET_FINAL_2.RData&quot;</span>))
<span class="kw">library</span>(dplyr)</code></pre></div>
<p>Calculate age.<strong>Note: this is the age they were at the time they did the questionaire</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">SRP_DATASET_FINAL<span class="op">$</span>AGE =<span class="st"> </span><span class="kw">paste0</span>(SRP_DATASET_FINAL<span class="op">$</span>YEAR <span class="op">-</span><span class="st"> </span>SRP_DATASET_FINAL<span class="op">$</span>BIRTHYR)</code></pre></div>
<p>lifetime trauma: 7 items (Q37a - Q37g) (Scale: 1= Yes, 5 = No)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">LFT =<span class="st"> </span>SRP_DATASET_FINAL[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">343</span>,<span class="dv">263</span>,<span class="dv">265</span>,<span class="dv">267</span>,<span class="dv">269</span>,<span class="dv">271</span>,<span class="dv">273</span>,<span class="dv">275</span>)]
<span class="kw">colnames</span>(LFT)
<span class="kw">colMeans</span>(<span class="kw">is.na</span>(LFT))</code></pre></div>
<p>Endorsement Rate</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">participants =<span class="st"> </span><span class="kw">nrow</span>(LFT)
<span class="kw">colSums</span>(LFT<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="kw">colSums</span>(LFT<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)<span class="op">/</span>(participants)<span class="op">&gt;</span><span class="fl">0.99</span>
<span class="co">#LFT &lt;- select(LFT,-$) #if any of the items are &quot;TRUE&quot;, use this line of code to reomve the item from the dataset</span></code></pre></div>
<p>Stressful life events: 6 items (Q38-Q38f) (Scale: 1 = Yes, 5 = No)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">SLE =<span class="st"> </span>SRP_DATASET_FINAL[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">284</span>,<span class="dv">286</span>,<span class="dv">288</span>,<span class="dv">290</span>,<span class="dv">292</span>,<span class="dv">294</span>)]
<span class="kw">colnames</span>(SLE)</code></pre></div>
<p>Endorsement Rate</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(SLE<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="kw">colSums</span>(SLE<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)<span class="op">/</span>(participants)<span class="op">&gt;</span><span class="fl">0.99</span>
<span class="co">#SLE &lt;- select(SLE,-$) #if any of the items are &quot;TRUE&quot;, use this line of code to reomve the item from the dataset</span></code></pre></div>
<p>Ongoing chronic stressors: 8 items (Q40a_a - Q40a_h)(Scale: 1 = No, didn't happen, 2 = Yes, but not upsetting, 3 = Yes, somewhat upsetting, 4 = Yes, very upsetting)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">OCS =<span class="st"> </span>SRP_DATASET_FINAL[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">305</span><span class="op">:</span><span class="dv">312</span>)]
<span class="kw">colnames</span>(OCS)</code></pre></div>
<p>Endorsement Rate</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(OCS<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="kw">colSums</span>(OCS<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)<span class="op">/</span>(participants)<span class="op">&gt;</span><span class="fl">0.99</span>
<span class="co">#OCS &lt;- select(OCS,-$) #if any of the items are &quot;TRUE&quot;, use this line of code to reomve the item from the dataset</span></code></pre></div>
<p>PANAS: 25 item (Q27a-Q27y)(Scale: 1 = Very much, 2 = Quite a bit, 3 = Moderately, 4 = A little, 5 = Not at all). Reverse coded as per documentation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">PANAS =<span class="st"> </span>SRP_DATASET_FINAL[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">139</span><span class="op">:</span><span class="dv">163</span>)]
<span class="kw">colnames</span>(PANAS)
PANAS_NA &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(PANAS,LB027A, LB027B, LB027E, LB027I, LB027J, LB027L, LB027M, LB027N,LB027O,LB027R, LB027S,LB027W)
PANAS_PA &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(PANAS,HHID_PN.x,LB027C, LB027D, LB027F, LB027G, LB027H, LB027K, LB027P, LB027Q, LB027T,LB027U, LB027V, LB027X,LB027Y)
PANAS_NA =<span class="st"> </span><span class="dv">6</span> <span class="op">-</span><span class="st"> </span>PANAS_NA <span class="co">#reverse code</span>
PANAS &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(PANAS_PA,PANAS_NA)</code></pre></div>
<p>Endorsement Rate</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">colSums</span>(PANAS<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
<span class="kw">colSums</span>(PANAS<span class="op">==</span><span class="dv">1</span>,<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)<span class="op">/</span>(participants)<span class="op">&gt;</span><span class="fl">0.99</span>
<span class="co">#PANAS &lt;- select(PANAS,-$) #if any of the items are &quot;TRUE&quot;, use this line of code to reomve the item from the dataset</span></code></pre></div>
<p>Create dataset for all the phenos. Address missingness</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Phenos &lt;-<span class="st"> </span><span class="kw">left_join</span>(LFT,SLE,<span class="dt">by=</span><span class="st">&quot;HHID_PN.x&quot;</span>)
Phenos &lt;-<span class="st"> </span><span class="kw">left_join</span>(Phenos,OCS, <span class="dt">by =</span> <span class="st">&quot;HHID_PN.x&quot;</span>)
Phenos &lt;-<span class="st"> </span><span class="kw">left_join</span>(Phenos,PANAS, <span class="dt">by =</span> <span class="st">&quot;HHID_PN.x&quot;</span>)
Phenos<span class="op">$</span>AGE &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">as.character</span>(Phenos<span class="op">$</span>AGE))
<span class="kw">colMeans</span>(<span class="kw">is.na</span>(Phenos))<span class="op">&gt;</span><span class="fl">0.05</span></code></pre></div>
<p>Scoring PANAS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Phenos<span class="op">$</span>PANAS =<span class="st"> </span><span class="kw">rowMeans</span>(PANAS[,<span class="kw">c</span>(<span class="st">&quot;LB027A&quot;</span>, <span class="st">&quot;LB027B&quot;</span>, <span class="st">&quot;LB027C&quot;</span>, <span class="st">&quot;LB027D&quot;</span>, <span class="st">&quot;LB027E&quot;</span>, <span class="st">&quot;LB027F&quot;</span>, <span class="st">&quot;LB027G&quot;</span>, <span class="st">&quot;LB027H&quot;</span>, <span class="st">&quot;LB027I&quot;</span>,<span class="st">&quot;LB027J&quot;</span>, <span class="st">&quot;LB027K&quot;</span>, <span class="st">&quot;LB027L&quot;</span>,<span class="st">&quot;LB027M&quot;</span>,<span class="st">&quot;LB027N&quot;</span>, <span class="st">&quot;LB027O&quot;</span>, <span class="st">&quot;LB027P&quot;</span>, <span class="st">&quot;LB027Q&quot;</span>, <span class="st">&quot;LB027R&quot;</span>, <span class="st">&quot;LB027S&quot;</span>, <span class="st">&quot;LB027T&quot;</span>, <span class="st">&quot;LB027U&quot;</span>, <span class="st">&quot;LB027V&quot;</span>,<span class="st">&quot;LB027W&quot;</span>, <span class="st">&quot;LB027X&quot;</span>,<span class="st">&quot;LB027Y&quot;</span>)],<span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
Phenos &lt;-<span class="st"> </span>Phenos[<span class="op">-</span><span class="kw">c</span>(<span class="dv">26</span><span class="op">:</span><span class="dv">50</span>)]
<span class="kw">names</span>(Phenos)[<span class="kw">names</span>(Phenos) <span class="op">==</span><span class="st"> &#39;HHID_PN.x&#39;</span>] &lt;-<span class="st"> &#39;HHID_PN&#39;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">complete =<span class="st"> </span><span class="kw">na.omit</span>(Phenos)
resilience &lt;-<span class="st"> </span><span class="kw">lm</span>(PANAS<span class="op">~</span>.<span class="op">-</span>HHID_PN, <span class="dt">data=</span>complete)
resilience_resid &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">rstandard</span>(resilience))
<span class="kw">colnames</span>(resilience_resid) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;resilience&quot;</span>)
resilience_resid =<span class="st"> </span>resilience_resid <span class="op">*</span><span class="st"> </span><span class="op">-</span><span class="dv">1</span>
res_data =<span class="st"> </span><span class="kw">bind_cols</span>(complete,resilience_resid)
res_data =<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(res_data,HHID_PN , resilience)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">PGS_data =<span class="st"> </span><span class="kw">inner_join</span>(SRP_DATASET_PGS_A,res_data,<span class="dt">by=</span><span class="st">&quot;HHID_PN&quot;</span>)
d_E =<span class="st"> </span><span class="kw">filter</span>(PGS_data,group<span class="op">==</span><span class="st">&quot;EA&quot;</span>)
d_AA =<span class="st"> </span><span class="kw">filter</span>(PGS_data, group<span class="op">==</span><span class="st">&quot;AA&quot;</span>)</code></pre></div>
</div>
<div id="regressions-brought-to-you-by-for-loops-lapply" class="section level2">
<h2><span class="header-section-number">3.2</span> Regressions: brought to you by for loops &amp; lapply!</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pgs =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;PGS3_HEIGHT_GIANT14&quot;</span>,<span class="st">&quot;PGS3_WC_GIANT15&quot;</span>,<span class="st">&quot;PGS3_AD_IGAP13&quot;</span>, <span class="st">&quot;PGS3_GENCOG_CHRG15&quot;</span>, <span class="st">&quot;PGS3_SCZ_PGC14&quot;</span>,<span class="st">&quot;PGS3_EVRSMK_TAG10&quot;</span>,<span class="st">&quot;PGS3_WELLB_SSGAC16&quot;</span>,<span class="st">&quot;PGS3_NEURO_SSGAC16&quot;</span>,<span class="st">&quot;PGS3_DPSYMP_SSGAC16&quot;</span>,<span class="st">&quot;PGS3_CPD_TAG10&quot;</span>,<span class="st">&quot;PGS3_CAD_CARDIOGR11&quot;</span>,<span class="st">&quot;PGS3_MI_CARDIOGR15&quot;</span>,<span class="st">&quot;PGS3_T2D_DIAGRAM12&quot;</span>,<span class="st">&quot;PGS3_ADHD_PGC17&quot;</span>,<span class="st">&quot;PGS3_AUTISM_PGC17&quot;</span>,<span class="st">&quot;PGS3_BIP_PGC11&quot;</span>,<span class="st">&quot;PGS3_XDISORDERPGC13&quot;</span>,<span class="st">&quot;PGS3_MENARCHE_RPG14&quot;</span>,<span class="st">&quot;PGS3_MENOPAUS_RPG15&quot;</span>,<span class="st">&quot;PGS3_CRTSL_CORNET14&quot;</span>,<span class="st">&quot;PGS3_EXTRAV_GPC17&quot;</span>,<span class="st">&quot;PGS3_AB_BROAD17&quot;</span>,<span class="st">&quot;PGS3_EDU3_SSGAC18&quot;</span>,<span class="st">&quot;PGS3_OCD_IOCDF17&quot;</span>,<span class="st">&quot;PGS3_AFBC_SOCGEN16&quot;</span>, <span class="st">&quot;PGS3_AFBF_SOCGEN16&quot;</span>, <span class="st">&quot;PGS3_AFBM_SOCGEN16&quot;</span>,<span class="st">&quot;PGS3_MDD2_PGC18&quot;</span>, <span class="st">&quot;PGS3_PTSDAA_PGC18&quot;</span>, <span class="st">&quot;PGS3_PTSDEA_PGC18&quot;</span>, <span class="st">&quot;PGS3_PTSDC_PGC18&quot;</span>,<span class="st">&quot;PGS3_ANXFS_ANGST16&quot;</span>)</code></pre></div>
<p>Use a for loop to start setting up the model to run the regression on. Here, each pgs of interest is being joined up with the columns needed for the model and grouped into a list. each item in the list is then named to match the pgs of interest.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (p <span class="cf">in</span> pgs){
  <span class="kw">assign</span>(<span class="kw">paste0</span>(p, <span class="dt">sep =</span><span class="st">&quot;&quot;</span>),<span class="kw">subset</span>(d_AA, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;resilience&quot;</span>, <span class="st">&quot;PC1_5A&quot;</span>, <span class="st">&quot;PC1_5B&quot;</span>, <span class="st">&quot;PC1_5C&quot;</span>, <span class="st">&quot;PC1_5D&quot;</span>, <span class="st">&quot;PC1_5E&quot;</span>,p)))
}
pgs.list.AA =<span class="st"> </span><span class="kw">list</span>(<span class="dt">PGS3_HEIGHT_GIANT14=</span> PGS3_HEIGHT_GIANT14,
<span class="dt">PGS3_WC_GIANT15=</span>    PGS3_WC_GIANT15,
<span class="dt">PGS3_AD_IGAP13=</span> PGS3_AD_IGAP13,
<span class="dt">PGS3_GENCOG_CHRG15 =</span>    PGS3_GENCOG_CHRG15,
<span class="dt">PGS3_SCZ_PGC14 =</span>    PGS3_SCZ_PGC14,
<span class="dt">PGS3_EVRSMK_TAG10=</span>  PGS3_EVRSMK_TAG10,
<span class="dt">PGS3_WELLB_SSGAC16=</span> PGS3_WELLB_SSGAC16,
<span class="dt">PGS3_NEURO_SSGAC16=</span> PGS3_NEURO_SSGAC16,
<span class="dt">PGS3_DPSYMP_SSGAC16=</span>    PGS3_DPSYMP_SSGAC16,
<span class="dt">PGS3_CPD_TAG10=</span> PGS3_CPD_TAG10,
<span class="dt">PGS3_CAD_CARDIOGR11=</span>    PGS3_CAD_CARDIOGR11,
<span class="dt">PGS3_MI_CARDIOGR15=</span> PGS3_MI_CARDIOGR15,
<span class="dt">PGS3_T2D_DIAGRAM12=</span> PGS3_T2D_DIAGRAM12,
<span class="dt">PGS3_ADHD_PGC17=</span>    PGS3_ADHD_PGC17,
<span class="dt">PGS3_AUTISM_PGC17=</span>  PGS3_AUTISM_PGC17,
<span class="dt">PGS3_BIP_PGC11=</span> PGS3_BIP_PGC11,
<span class="dt">PGS3_XDISORDERPGC13=</span>    PGS3_XDISORDERPGC13,
<span class="dt">PGS3_MENARCHE_RPG14=</span>    PGS3_MENARCHE_RPG14,
<span class="dt">PGS3_MENOPAUS_RPG15=</span>    PGS3_MENOPAUS_RPG15,
<span class="dt">PGS3_CRTSL_CORNET14=</span>    PGS3_CRTSL_CORNET14,
<span class="dt">PGS3_EXTRAV_GPC17=</span>  PGS3_EXTRAV_GPC17,
<span class="dt">PGS3_AB_BROAD17=</span>    PGS3_AB_BROAD17,
<span class="dt">PGS3_EDU3_SSGAC18=</span>  PGS3_EDU3_SSGAC18,
<span class="dt">PGS3_OCD_IOCDF17=</span>   PGS3_OCD_IOCDF17,
<span class="dt">PGS3_AFBC_SOCGEN16=</span> PGS3_AFBC_SOCGEN16,
<span class="dt">PGS3_AFBF_SOCGEN16 =</span>    PGS3_AFBF_SOCGEN16,
<span class="dt">PGS3_AFBM_SOCGEN16 =</span>    PGS3_AFBM_SOCGEN16,
<span class="dt">PGS3_MDD2_PGC18=</span>    PGS3_MDD2_PGC18,
<span class="dt">PGS3_PTSDAA_PGC18 =</span> PGS3_PTSDAA_PGC18,
<span class="dt">PGS3_PTSDEA_PGC18 =</span> PGS3_PTSDEA_PGC18,
<span class="dt">PGS3_PTSDC_PGC18 =</span>  PGS3_PTSDC_PGC18,
<span class="dt">PGS3_ANXFS_ANGST16=</span> PGS3_ANXFS_ANGST16)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (p <span class="cf">in</span> pgs){
  <span class="kw">assign</span>(<span class="kw">paste0</span>(p, <span class="dt">sep =</span><span class="st">&quot;&quot;</span>),<span class="kw">subset</span>(d_E, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;resilience&quot;</span>, <span class="st">&quot;PC1_5A&quot;</span>, <span class="st">&quot;PC1_5B&quot;</span>, <span class="st">&quot;PC1_5C&quot;</span>, <span class="st">&quot;PC1_5D&quot;</span>, <span class="st">&quot;PC1_5E&quot;</span>,p)))
}
pgs.list.E =<span class="st"> </span><span class="kw">list</span>(<span class="dt">PGS3_HEIGHT_GIANT14=</span>  PGS3_HEIGHT_GIANT14,
<span class="dt">PGS3_WC_GIANT15=</span>    PGS3_WC_GIANT15,
<span class="dt">PGS3_AD_IGAP13=</span> PGS3_AD_IGAP13,
<span class="dt">PGS3_GENCOG_CHRG15 =</span>    PGS3_GENCOG_CHRG15,
<span class="dt">PGS3_SCZ_PGC14 =</span>    PGS3_SCZ_PGC14,
<span class="dt">PGS3_EVRSMK_TAG10=</span>  PGS3_EVRSMK_TAG10,
<span class="dt">PGS3_WELLB_SSGAC16=</span> PGS3_WELLB_SSGAC16,
<span class="dt">PGS3_NEURO_SSGAC16=</span> PGS3_NEURO_SSGAC16,
<span class="dt">PGS3_DPSYMP_SSGAC16=</span>    PGS3_DPSYMP_SSGAC16,
<span class="dt">PGS3_CPD_TAG10=</span> PGS3_CPD_TAG10,
<span class="dt">PGS3_CAD_CARDIOGR11=</span>    PGS3_CAD_CARDIOGR11,
<span class="dt">PGS3_MI_CARDIOGR15=</span> PGS3_MI_CARDIOGR15,
<span class="dt">PGS3_T2D_DIAGRAM12=</span> PGS3_T2D_DIAGRAM12,
<span class="dt">PGS3_ADHD_PGC17=</span>    PGS3_ADHD_PGC17,
<span class="dt">PGS3_AUTISM_PGC17=</span>  PGS3_AUTISM_PGC17,
<span class="dt">PGS3_BIP_PGC11=</span> PGS3_BIP_PGC11,
<span class="dt">PGS3_XDISORDERPGC13=</span>    PGS3_XDISORDERPGC13,
<span class="dt">PGS3_MENARCHE_RPG14=</span>    PGS3_MENARCHE_RPG14,
<span class="dt">PGS3_MENOPAUS_RPG15=</span>    PGS3_MENOPAUS_RPG15,
<span class="dt">PGS3_CRTSL_CORNET14=</span>    PGS3_CRTSL_CORNET14,
<span class="dt">PGS3_EXTRAV_GPC17=</span>  PGS3_EXTRAV_GPC17,
<span class="dt">PGS3_AB_BROAD17=</span>    PGS3_AB_BROAD17,
<span class="dt">PGS3_EDU3_SSGAC18=</span>  PGS3_EDU3_SSGAC18,
<span class="dt">PGS3_OCD_IOCDF17=</span>   PGS3_OCD_IOCDF17,
<span class="dt">PGS3_AFBC_SOCGEN16=</span> PGS3_AFBC_SOCGEN16,
<span class="dt">PGS3_AFBF_SOCGEN16 =</span>    PGS3_AFBF_SOCGEN16,
<span class="dt">PGS3_AFBM_SOCGEN16 =</span>    PGS3_AFBM_SOCGEN16,
<span class="dt">PGS3_MDD2_PGC18=</span>    PGS3_MDD2_PGC18,
<span class="dt">PGS3_PTSDAA_PGC18 =</span> PGS3_PTSDAA_PGC18,
<span class="dt">PGS3_PTSDEA_PGC18 =</span> PGS3_PTSDEA_PGC18,
<span class="dt">PGS3_PTSDC_PGC18 =</span>  PGS3_PTSDC_PGC18,
<span class="dt">PGS3_ANXFS_ANGST16=</span> PGS3_ANXFS_ANGST16)</code></pre></div>
<p>Use lapply to perform regression on all the models set up in pgs.list</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model.AA =<span class="st"> </span><span class="kw">lapply</span>(pgs.list.AA, <span class="cf">function</span>(x)<span class="kw">lm</span>(resilience <span class="op">~</span><span class="st"> </span>x[[<span class="dv">7</span>]]<span class="op">+</span><span class="st"> </span>PC1_5A <span class="op">+</span><span class="st"> </span>PC1_5B <span class="op">+</span><span class="st"> </span>PC1_5C <span class="op">+</span><span class="st"> </span>PC1_5D <span class="op">+</span><span class="st"> </span>PC1_5E, <span class="dt">data =</span> x))
model.E =<span class="st"> </span><span class="kw">lapply</span>(pgs.list.E, <span class="cf">function</span>(x)<span class="kw">lm</span>(resilience <span class="op">~</span><span class="st"> </span>x[[<span class="dv">7</span>]]<span class="op">+</span><span class="st"> </span>PC1_5A <span class="op">+</span><span class="st"> </span>PC1_5B <span class="op">+</span><span class="st"> </span>PC1_5C <span class="op">+</span><span class="st"> </span>PC1_5D <span class="op">+</span><span class="st"> </span>PC1_5E, <span class="dt">data =</span> x))</code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hrs-data-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/YOUR GITHUB USERNAME/YOUR REPO NAME/edit/master/02-Analyses.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/YOUR GITHUB USERNAME/YOUR REPO NAME/blob/master/02-Analyses.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
